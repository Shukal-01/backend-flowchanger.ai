<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Create User Form!</title>    
    <style>
        body {
            font-family: Arial, sans-serif;
            background-color: #f4f4f4;
            padding: 20px;
        }

        form {
            max-width: 600px;
            margin: 0 auto;
            padding: 20px;
            background-color: #fff;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }

        h2 {
            text-align: center;
            margin-bottom: 20px;
        }

        label {
            display: block;
            margin-bottom: 8px;
        }

        input[type="text"], input[type="email"], input[type="tel"], input[type="password"], input[type="file"], select {
            width: 100%;
            padding: 8px;
            margin-bottom: 20px;
            border: 1px solid #ccc;
            border-radius: 4px;
            transition: border-color 0.3s;
        }

        input.invalid {
            border-color: red;
        }

        input.valid {
            border-color: green;
        }

        button {
            width: 100%;
            padding: 10px;
            background-color: #5cb85c;
            color: white;
            border: none;
            border-radius: 4px;
            cursor: pointer;
        }

        button:hover {
            background-color: #4cae4c;
        }

        button:disabled {
            background-color: grey;
            cursor: not-allowed;
        }

        /* Hide the mobile help message by default */
        #mobileHelp {
            display: none;
        }


        #otp-message {
            margin-top: 10px;
            color: green;
        }
    </style>
</head>
<body>

    <h2>Create User Form</h2>

    <form id="registerForm" action="/admin" method="POST" enctype="multipart/form-data">
        <!-- Email -->
        <label for="email">Email:</label>
        <input type="email" id="email" name="email" required>
        <!-- Other fields (initially disabled) -->
        <label for="first_name">First Name:</label>
        <input type="text" id="first_name" name="first_name" required >

        <label for="last_name">Last Name:</label>
        <input type="text" id="last_name" name="last_name" required >

        <label for="mobile">Mobile:</label>
        <input type="tel" id="mobile" name="mobile" maxlength="10" required >
        <small id="mobileHelp" style="color: red;">Mobile number must be exactly 10 digits.</small>

        <label for="profile_image">Profile Image:</label>
        <input type="file" id="profile_image" name="profile_image" >

       <label for="time_zone">Time Zone:</label>
<select id="time_zone" name="time_zone">
    <option value="GMT-12:00">GMT-12:00 - Baker Island Time</option>
    <option value="GMT-11:00">GMT-11:00 - Samoa Standard Time</option>
    <option value="GMT-10:00">GMT-10:00 - Hawaii-Aleutian Standard Time</option>
    <option value="GMT-09:00">GMT-09:00 - Alaska Standard Time</option>
    <option value="GMT-08:00">GMT-08:00 - Pacific Standard Time</option>
    <option value="GMT-07:00">GMT-07:00 - Mountain Standard Time</option>
    <option value="GMT-06:00">GMT-06:00 - Central Standard Time</option>
    <option value="GMT-05:00">GMT-05:00 - Eastern Standard Time</option>
    <option value="GMT+00:00">GMT+00:00 - Greenwich Mean Time</option>
    <option value="GMT+01:00">GMT+01:00 - Central European Time</option>
    <option value="GMT+02:00">GMT+02:00 - Eastern European Time</option>
    <option value="GMT+03:00">GMT+03:00 - Arabian Standard Time</option>
    <option value="GMT+04:00">GMT+04:00 - Gulf Standard Time</option>
    <option value="GMT+05:00">GMT+05:00 - Pakistan Standard Time</option>
    <option value="GMT+06:00">GMT+06:00 - Bangladesh Standard Time</option>
    <option value="GMT+07:00">GMT+07:00 - Indochina Time</option>
    <option value="GMT+08:00">GMT+08:00 - China Standard Time</option>
    <option value="GMT+09:00">GMT+09:00 - Japan Standard Time</option>
    <option value="GMT+10:00">GMT+10:00 - Australian Eastern Standard Time</option>
    <option value="GMT+11:00">GMT+11:00 - Solomon Islands Time</option>
    <option value="GMT+12:00">GMT+12:00 - Fiji Time</option>
</select>


        <label for="time_formate">Time Format (e.g., HH:MM:SS):</label>
        <input type="time" id="time_formate" name="time_formate" required >

        <label for="date_formate">Date Format (e.g., MM/DD/YYYY):</label>
        <input type="date" id="date_formate" name="date_formate" required >

        <label for="week_Formate">Week Format:</label>
        <input type="week" id="week_Formate" name="week_formate" >

        <label for="package_id">Package ID:</label>
        <input type="number" id="package_id" name="package_id" >

        <label for="company_name">Company Name:</label>
        <input type="text" id="company_name" name="company_name" >

        <label for="company_logo">Company Logo:</label>
        <input type="file" id="company_logo" name="company_logo" >

        <label for="company_type">Company Type:</label>
        <input type="text" id="company_type" name="company_type" required >

        <label for="role">Role:</label>
        <input type="text" id="role" name="role" required >

        <label for="password">Password:</label>
        <input type="password" id="password" name="password" placeholder="Enter password" >
    
        <small id="length" style="color: red;">1. Password must be at least 8 characters long</small><br>
        <small id="capitalLetter" style="color: red;">2. First letter should be capital</small><br>
        <small id="symbol" style="color: red;">3. One symbol is required</small><br>
        <small id="number" style="color: red;">4. One number is required</small><br>

        <label for="Cpassword">Confirm Password:</label>
        <input type="password" id="confirmPassword" name="Cpassword" placeholder="Confirm password" >
        <small id="confirmPasswordHelp"></small>

        <button id="submitBtn" type="submit" disabled>Submit</button>
    </form>    
    <script>
        document.getElementById('registerForm').addEventListener('submit', function (event) {
  event.preventDefault(); // Prevent page refresh

  const formData = new FormData(this);

  // Send form data to backend
  fetch('/admin', {
    method: 'POST',
    body: formData
  })
    .then(response => response.json())
    .then(data => {
      if (data.status === 201) {
        alert(data.message); // Show success message

        // Redirect the user to the page sent from backend
        window.location.href = data.redirect; // Redirect to the URL sent from backend
      } else {
        alert(data.message); // Show error message
      }
    })
    .catch(err => console.error('Error:', err));
});

    </script>
    <script>
        // Register Login Script

const password = document.getElementById('password');
const capitalLetter = document.getElementById('capitalLetter');
const symbol = document.getElementById('symbol');
const number = document.getElementById('number');
const length = document.getElementById('length');
const confirmPassword = document.getElementById('confirmPassword');
const confirmPasswordHelp = document.getElementById('confirmPasswordHelp');
const mobile = document.getElementById('mobile');
const mobileHelp = document.getElementById('mobileHelp');
const submitBtn = document.getElementById('submitBtn');
const form = document.getElementById('registerForm');

function validatePassword() {
    const passwordValue = password.value;
    const confirmPasswordValue = confirmPassword.value;
    let valid = true;

    // Check for at least 8 characters
    if (passwordValue.length >= 8) {
        length.textContent = "✓ Password length is valid";
        length.style.color = "green";
        password.classList.add('valid');
        password.classList.remove('invalid');
    } else {
        length.textContent = "1. Password must be at least 8 characters long";
        length.style.color = "red";
        valid = false;
        password.classList.add('invalid');
        password.classList.remove('valid');
    }

    // Check for capital letter
    const capitalLetterRegex = /[A-Z]/;
    if (capitalLetterRegex.test(passwordValue)) {
        capitalLetter.textContent = "✓ First letter capital (done)";
        capitalLetter.style.color = "green";
    } else {
        capitalLetter.textContent = "2. First letter should be capital";
        capitalLetter.style.color = "red";
        valid = false;
    }

    // Check for a symbol
    const symbolRegex = /[!@#$%^&*]/;
    if (symbolRegex.test(passwordValue)) {
        symbol.textContent = "✓ One symbol (done)";
        symbol.style.color = "green";
    } else {
        symbol.textContent = "3. One symbol is required";
        symbol.style.color = "red";
        valid = false;
    }

    // Check for a number
    const numberRegex = /\d/;
    if (numberRegex.test(passwordValue)) {
        number.textContent = "✓ One number (done)";
        number.style.color = "green";
    } else {
        number.textContent = "4. One number is required";
        number.style.color = "red";
        valid = false;
    }

    // Confirm password match
    if (passwordValue === confirmPasswordValue && passwordValue.length > 0) {
        confirmPasswordHelp.textContent = "✓ Passwords match";
        confirmPasswordHelp.style.color = 'green';
    } else {
        confirmPasswordHelp.textContent = "Passwords do not match";
        confirmPasswordHelp.style.color = 'red';
        valid = false;
    }

    // Enable or disable submit button based on all validations
    submitBtn.disabled = !valid;
}

function validateMobile() {
    const mobileValue = mobile.value;
    let valid = true;

    // Validate mobile number (exactly 10 digits)
    if (/^\d{10}$/.test(mobileValue)) {
        mobileHelp.textContent = "✓ Mobile Number is Verified";
        mobileHelp.style.color = "green";
        mobile.classList.add('valid');
        mobile.classList.remove('invalid');
    } else {
        mobileHelp.textContent = "Mobile number must be exactly 10 digits";
        mobileHelp.style.color = "red";
        valid = false;
        mobile.classList.add('invalid');
        mobile.classList.remove('valid');
    }

    // Show help message if the input is focused
    mobile.addEventListener('focus', function() {
        mobileHelp.style.display = 'block';
    });
    mobile.addEventListener('blur', function() {
        mobileHelp.style.display = 'none';
    });

    return valid;
}

function highlightEmptyFields() {
    const requiredFields = form.querySelectorAll('[required]');
    requiredFields.forEach(field => {
        if (!field.value) {
            field.classList.add('invalid');
        } else {
            field.classList.remove('invalid');
        }
    });
}

password.addEventListener('input', validatePassword);
confirmPassword.addEventListener('input', validatePassword);
mobile.addEventListener('input', function() {
    validateMobile();
    validatePassword();
});

form.addEventListener('submit', function(event) {
    highlightEmptyFields();
    if (Array.from(form.elements).some(input => input.classList.contains('invalid'))) {
        event.preventDefault(); // Prevent form submission if there are invalid fields
    }
});
    </script>
</body>
</html>
